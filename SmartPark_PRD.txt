Product Requirements Document (PRD)Product Name: SmartPark Mall Allocation System1. Product OverviewSmartPark is a real-time parking management system that uses CCTV cameras and computer vision to detect vehicles entering and exiting parking floors.The system maintains accurate vehicle counts per floor, calculates real-time slot availability, and recommends the optimal floor at ticket issuance.2. Problem StatementMall parking areas often suffer from uneven occupancy and drivers wasting time searching for parking slots.Existing systems rely on expensive physical slot sensors or provide no real-time floor-level guidance.SmartPark provides a camera-based counting solution without per-slot hardware.3. ObjectivesPrimary Objectives:- Accurately count vehicles per floor.- Maintain live slot availability.- Recommend optimal parking floor on ticket.- Reduce driver search time.Secondary Objectives:- Provide real-time admin dashboard.- Enable scalable multi-floor deployment.4. Functional RequirementsVehicle Detection: Detect cars, motorcycles, buses, and trucks using YOLO-based models.Vehicle Tracking: Assign unique IDs and prevent double counting using tracking algorithms.Entry/Exit Logic: Increment or decrement floor counts based on line-crossing detection.Availability Calculation: Available Slots = Total Slots - Current Vehicles.Ticket Recommendation: Suggest floor with highest or optimal available slots.Admin Dashboard: Display real-time occupancy, alerts, and historical logs.5. Non-Functional RequirementsCounting latency under 1 second.Detection accuracy = 90%.Counting accuracy = 95%.Support minimum 8 simultaneous cameras.System uptime = 99%.6. Technical ArchitectureEdge Layer: CCTV camera, edge processor, YOLO detection, ByteTrack tracking, line-crossing logic.Central Server: FastAPI backend, PostgreSQL database, allocation engine, REST APIs.Data Flow: Camera ? Detection ? Tracking ? Event ? Server ? Update Count ? Ticket Recommendation.7. Data ModelFloors Table: id, floor_name, total_slots, current_vehicles, available_slots, last_updated.Events Table: id, floor_id, vehicle_type, direction (entry/exit), timestamp.8. Risks & MitigationOcclusion: Use robust tracking algorithms.Poor Lighting: Train model with similar environment data.Vehicle Reversal: Implement direction-aware line logic.System Drift: Provide manual override and periodic verification.9. Deployment PlanPhase 1: Single-floor prototype testing with recorded video.Phase 2: Multi-floor live deployment.Phase 3: Integration with ticket printing system.10. Future EnhancementsIndividual slot detection.License plate recognition.Mobile app integration.Dynamic pricing based on occupancy.Real-time LED floor display boards.
